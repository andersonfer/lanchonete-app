# Plano de MigraÃ§Ã£o: Tarefas Restantes

## Status Atual vs Desejado

### âœ… JÃ IMPLEMENTADO:
- âœ… SeparaÃ§Ã£o API/Controller (contratos vs implementaÃ§Ãµes)
- âœ… Estrutura bÃ¡sica com /entidades/, /casosdeuso/, /interfaces/
- âœ… Controllers implementando interfaces API
- âœ… RenomeaÃ§Ã£o RepositÃ³rios â†’ Gateways (pacote /gateways/ criado)
- âœ… ReorganizaÃ§Ã£o: /api/ e /controllers/ independentes, DTOs em /controllers/dto/

### ğŸš§ TAREFAS RESTANTES:

### **1. CRIAR VALUE OBJECTS**
**Status:** Pendente
**DescriÃ§Ã£o:** Criar classes para encapsular validaÃ§Ãµes
**Arquivos a criar:**
- `/entidades/shared/Cpf.java`
- `/entidades/shared/Email.java`
- `/entidades/produto/Preco.java`
- `/entidades/pedido/NumeroPedido.java`

**Arquivos a modificar:**
- `Cliente.java` - usar Cpf e Email
- `Produto.java` - usar Preco  
- `Pedido.java` - usar NumeroPedido
- Todos os DTOs, gateways e use cases relacionados

---

### **2. LIMPAR USE CASES**
**Status:** Pendente
**DescriÃ§Ã£o:** Remover anotaÃ§Ãµes Spring dos use cases
**LocalizaÃ§Ã£o:** Manter em `/casosdeuso/` (sem mover)
**Nomes:** Manter atuais (sem renomear)

**Classes a modificar:**
- `CadastrarCliente.java` - remover @Service, @Transactional
- `IdentificarCliente.java` - remover @Service
- `CriarProduto.java` - remover @Service, @Transactional
- `EditarProduto.java` - remover @Service, @Transactional
- `RemoverProduto.java` - remover @Service, @Transactional
- `BuscarProdutosPorCategoria.java` - remover @Service
- `RealizarPedido.java` - remover @Service, @Transactional
- `ListarPedidos.java` - remover @Service

---

### **3. CRIAR APPLICATION SERVICES**
**Status:** Pendente
**DescriÃ§Ã£o:** Camada de orquestraÃ§Ã£o na Interface Adapters
**LocalizaÃ§Ã£o:** Expandir `/aplicacao/` existente

**Arquivos a criar:**
- `/aplicacao/ClienteApplicationService.java`
- `/aplicacao/ProdutoApplicationService.java`
- `/aplicacao/PedidoApplicationService.java`

**Arquivos a modificar:**
- Todos os controllers (injetar App Service ao invÃ©s de Use Cases)
- ConfiguraÃ§Ãµes (adicionar beans de App Services)
- App Services injetam Gateways ao invÃ©s de Use Cases injetarem diretamente

---

### **4. LIMPAR DEPENDÃŠNCIAS DAS ENTITIES**
**Status:** Pendente
**DescriÃ§Ã£o:** Remover dependÃªncias externas das entities

**Classes a modificar:**
- `Cliente.java` - remover import Utils.validarCpf
- `Produto.java` - revisar dependÃªncias Lombok
- `Pedido.java` - revisar dependÃªncias Lombok  
- `ItemPedido.java` - revisar dependÃªncias Lombok

---

## ğŸ¯ ESTRUTURA FINAL ESPERADA

```
br.com.lanchonete.autoatendimento
â”œâ”€â”€ entidades/                    # MantÃ©m atual + Value Objects
â”‚   â”œâ”€â”€ cliente/
â”‚   â”‚   â””â”€â”€ Cliente.java         # âœ… Limpar dependencies
â”‚   â”œâ”€â”€ produto/
â”‚   â”‚   â”œâ”€â”€ Produto.java         # âœ… Limpar dependencies  
â”‚   â”‚   â””â”€â”€ Preco.java           # ğŸ“¦ NOVO Value Object
â”‚   â”œâ”€â”€ pedido/
â”‚   â”‚   â”œâ”€â”€ Pedido.java          # âœ… Limpar dependencies
â”‚   â”‚   â”œâ”€â”€ ItemPedido.java      # âœ… Limpar dependencies
â”‚   â”‚   â””â”€â”€ NumeroPedido.java    # ğŸ“¦ NOVO Value Object
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ Cpf.java             # ğŸ“¦ NOVO Value Object
â”‚       â””â”€â”€ Email.java           # ğŸ“¦ NOVO Value Object
â”œâ”€â”€ casosdeuso/                   # âœ… Limpar anotaÃ§Ãµes Spring
â”œâ”€â”€ aplicacao/                    # âœ… EXPANDIR - Application Services + exceÃ§Ãµes
â”œâ”€â”€ api/                          # âœ… JÃ CRIADO - Contratos REST
â”œâ”€â”€ controllers/                  # âœ… JÃ REORGANIZADO - ImplementaÃ§Ãµes + DTOs
â”œâ”€â”€ gateways/                     # âœ… JÃ CRIADO - ImplementaÃ§Ãµes JDBC
â”œâ”€â”€ frameworks/                   # MantÃ©m atual (config/util)
â””â”€â”€ interfaces/                   # âœ… JÃ ATUALIZADO - Interfaces Gateway
```

## âš¡ ORDEM DE EXECUÃ‡ÃƒO RECOMENDADA

1. **Value Objects** - Base para todas as outras mudanÃ§as
2. **Limpar Dependencies** - Remove dependÃªncias externas  
3. **Limpar Use Cases** - Remove anotaÃ§Ãµes Spring
4. **Application Services** - Camada de orquestraÃ§Ã£o